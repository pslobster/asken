シニアエンジニアとして、発生しているエラーの解析と修正案を提示します。

### エラーの原因解析
エラー内容 `429 Too Many Requests` は、Gemini APIのクォータ（利用制限）を超過したことを示しています。具体的には以下の点が問題です。

1.  **モデル名の誤り/特殊性**: エラーログに `gemini-3-flash-preview` という記述がありますが、現在一般的に公開されている安定版は `gemini-1.5-flash` です。存在しない、あるいはプレビュー版の非常に制限が厳しいモデルを指定している可能性があります。
2.  **入力トークン制限**: `generativelanguage.googleapis.com/generate_content_free_tier_input_token_count` の制限（250,000トークン/分）に達しています。大規模なPRの差分（diff）をそのまま送信すると、この制限に容易に抵触します。
3.  **リトライ処理の欠如**: Free Tierでは短時間にリクエストが集中すると429エラーが発生しやすいため、指数バックオフなどのリトライ処理が必要です。

### 修正案
1.  **モデル名の修正**: 安定して動作し、クォータも広い `gemini-1.5-flash` に変更します。
2.  **diffのサイズ制限**: 送信するdiffが大きすぎる場合に備え、文字数制限（例: 50,000文字）を設けて切り詰める処理を追加します。
3.  **リトライロジックの実装**: 429エラーが発生した際に、少し待機してリトライする処理を追加します。

以下のスクリプトを実行して、`scripts/gemini-review.mjs` を堅牢なバージョンに更新してください。